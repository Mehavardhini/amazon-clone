[{"/Users/mvk/Documents/meha_workspace/amazon-clone/src/index.js":"1","/Users/mvk/Documents/meha_workspace/amazon-clone/src/App.js":"2","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/header/Header.js":"3","/Users/mvk/Documents/meha_workspace/amazon-clone/src/reportWebVitals.js":"4","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/home/Home.js":"5","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/product/Product.js":"6","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/checkout/Checkout.js":"7","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/subtotal/Subtotal.js":"8","/Users/mvk/Documents/meha_workspace/amazon-clone/src/StateProvider.js":"9","/Users/mvk/Documents/meha_workspace/amazon-clone/src/reducer.js":"10","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/checkoutProduct/CheckoutProduct.js":"11","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/login/Login.js":"12","/Users/mvk/Documents/meha_workspace/amazon-clone/src/firebase.js":"13","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/payment/Payment.js":"14","/Users/mvk/Documents/meha_workspace/amazon-clone/src/axios.js":"15","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/orders/Orders.js":"16","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/order/Order.js":"17"},{"size":689,"mtime":1609122904294,"results":"18","hashOfConfig":"19"},{"size":1609,"mtime":1609294849323,"results":"20","hashOfConfig":"19"},{"size":1932,"mtime":1609297212209,"results":"21","hashOfConfig":"19"},{"size":362,"mtime":1608311463582,"results":"22","hashOfConfig":"19"},{"size":2529,"mtime":1608335760942,"results":"23","hashOfConfig":"19"},{"size":1433,"mtime":1609132899839,"results":"24","hashOfConfig":"19"},{"size":929,"mtime":1609294967423,"results":"25","hashOfConfig":"19"},{"size":1100,"mtime":1609286024756,"results":"26","hashOfConfig":"19"},{"size":465,"mtime":1609122409208,"results":"27","hashOfConfig":"19"},{"size":862,"mtime":1609294820310,"results":"28","hashOfConfig":"19"},{"size":1288,"mtime":1609297144365,"results":"29","hashOfConfig":"19"},{"size":1980,"mtime":1609266564032,"results":"30","hashOfConfig":"19"},{"size":1684,"mtime":1609295033436,"results":"31","hashOfConfig":"19"},{"size":4400,"mtime":1609297627276,"results":"32","hashOfConfig":"19"},{"size":178,"mtime":1609291766150,"results":"33","hashOfConfig":"19"},{"size":872,"mtime":1609296066237,"results":"34","hashOfConfig":"19"},{"size":888,"mtime":1609297120801,"results":"35","hashOfConfig":"19"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1ts0bt1",{"filePath":"38","messages":"39","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"40","messages":"41","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"42","messages":"43","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"44"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"47","messages":"48","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"49"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"52"},{"filePath":"53","messages":"54","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"55","messages":"56","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"57","messages":"58","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"61","messages":"62","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"63","messages":"64","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"65","messages":"66","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"67"},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"72","messages":"73","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},"/Users/mvk/Documents/meha_workspace/amazon-clone/src/index.js",[],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/App.js",["74","75"],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/header/Header.js",["76","77"],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/reportWebVitals.js",[],["78","79"],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/home/Home.js",[],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/product/Product.js",["80"],"import React, { useState } from 'react'\nimport './Product.css'\nimport StarIcon from '@material-ui/icons/Star';\nimport StarBorderIcon from '@material-ui/icons/StarBorder';\nimport CheckIcon from '@material-ui/icons/Check';\nimport { useStateValue } from '../../StateProvider';\n\nfunction Product({ id, title, image, price, rating }) {\n\n  const [state, dispatch] = useStateValue();\n  const [showMessage, setShowMessage] = useState(false);\n\n  const addToBasket = () => {\n    setShowMessage(true);\n\n    dispatch({\n      type: 'ADD_TO_BASKET',\n      item: {\n        id, title, image, price, rating\n      }\n    })\n  }\n\n  return (\n    <div className=\"product\">\n      <div className=\"product__info\">\n        <p className=\"product__name\">{ title }</p>\n        <p className=\"product__price\">\n          <small>$</small>\n          <strong>{ price }</strong>\n        </p>\n      </div>\n      <div className=\"product__rating\">\n        { Array(rating).fill().map((_,i) => ( <StarIcon key={i}/> )) }\n        { Array(5 - rating).fill().map((_,i) => ( <StarBorderIcon key={i}/> )) }\n      </div>\n      <img \n        className=\"product__image\"\n        alt=\"product\"\n        src={image}\n      />\n      <div className=\"product__incart\" style={{ display: showMessage ? 'flex' : 'none' }}>\n        <CheckIcon />\n        <span>Added to cart</span>\n      </div>\n      <button onClick={addToBasket}>Add to basket</button>\n    </div>\n  )\n}\n\nexport default Product\n","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/checkout/Checkout.js",["81","82","83"],"import React from 'react';\nimport './Checkout.css';\nimport { Link } from 'react-router-dom';\nimport Subtotal from '../subtotal/Subtotal';\nimport CheckoutProduct from '../checkoutProduct/CheckoutProduct';\nimport { useStateValue } from '../../StateProvider';\n\nfunction Checkout() {\n  const [{ basket, user }, dispatch] = useStateValue();\n\n  return (\n    <div className=\"checkout\">\n      <div className=\"checkout__left\">\n        <img \n          className=\"checkout__ad\"\n          src=\"https://images-na.ssl-images-amazon.com/images/G/02/UK_CCMP/TM/OCC_Amazon1._CB423492668_.jpg\"\n          alt=\"advertisement\"\n        />\n        <div>\n          <h3 className=\"checkout__title\">Your shopping basket</h3>\n          { basket?.map((itm) => ( <CheckoutProduct product={itm} key={itm.id}/> )) }\n        </div>\n      </div>\n      <div className=\"checkout__right\">\n        <Subtotal />\n      </div>\n    </div>\n  )\n}\n\nexport default Checkout\n","/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/subtotal/Subtotal.js",["84"],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/StateProvider.js",[],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/reducer.js",[],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/checkoutProduct/CheckoutProduct.js",["85"],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/login/Login.js",[],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/firebase.js",["86"],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/payment/Payment.js",["87"],"import React, { useState, useEffect } from 'react';\nimport './Payment.css';\nimport { useStateValue } from '../../StateProvider';\nimport CheckoutProduct from '../checkoutProduct/CheckoutProduct';\nimport { Link, useHistory } from 'react-router-dom';\nimport { CardElement, useStripe, useElements } from '@stripe/react-stripe-js';\nimport CurrencyFormat from 'react-currency-format';\nimport { getBasketTotal } from '../../reducer';\nimport axios from '../../axios';\nimport { db } from '../../firebase';\n\nfunction Payment() {\n\n  const [{ basket, user}, dispatch] = useStateValue();\n  const stripe = useStripe();\n  const elements = useElements();\n  const [processing, setProcessing] = useState(false);\n  const [succeeded, setSucceeded] = useState(false);\n  const [disabled, setDisabled] = useState(true);\n  const [error, setError] = useState(null);\n  const [clientSecret, setClientSecret] = useState(\"\");\n  const history = useHistory();\n\n  useEffect(() => {\n    // Generate a special stripe secret that allows us to chatge a customer\n    const getClientSecret = async () => {\n      const response = await axios({\n        method: 'POST',\n        // Stripe expects the total in a currencies subunits\n        // for $1, we have to pass as 100.\n        url: `/payments/create?total=${getBasketTotal(basket) * 100}`\n      });\n      setClientSecret(response.data.clientSecret)\n    }\n\n    getClientSecret();\n  }, [basket]);\n\n  console.log('secret key >>>>>', clientSecret)\n\n  const handleSubmit = e => {\n    e.preventDefault();\n    setProcessing(true);\n\n    const payload = stripe.confirmCardPayment(clientSecret, {\n      payment_method: {\n        card: elements.getElement(CardElement)\n      }\n    }).then(({ paymentIntent }) => {\n\n      db\n        .collection('users')\n        .doc(user?.uid)\n        .collection('orders')\n        .doc(paymentIntent.id)\n        .set({\n          basket: basket,\n          amount: paymentIntent.amount,\n          created: paymentIntent.created\n        })\n\n      setProcessing(false);\n      setSucceeded(true);\n      setError(null);\n\n      dispatch({\n        type: 'EMPTY_BASKET'\n      })\n\n      // We don't want the uses to come back to the payment page \n      // by clicking back button, so we replace the url\n      history.replace('/orders')\n    })\n\n  }\n\n  const handleChange = e => {\n    setDisabled(e.empty);\n    setError(e.error ? e.error.message : \"\");\n  }\n\n  return (\n    <div className=\"payment\">\n      <div className=\"payment__container\">\n\n        <h1 className=\"payment__heading\">\n          Checkout <Link to='/checkout'>({basket ? basket.length : 0 } items) </Link>\n        </h1>\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            Delivery Address\n          </div>\n          <div className=\"payment__address\">\n            <p>{user ? user.email : ''}</p>\n            <p>123 Main St</p>\n            <p>Seattle</p>\n            <p>WA - 98115</p>\n          </div>\n        </div>\n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            Review Items in Basket\n          </div>\n          <div className=\"payment_items\">\n            {\n              basket.map((item) => (\n                <CheckoutProduct\n                  product={item}\n                />\n              ))\n            }\n          </div>\n        </div> \n        <div className=\"payment__section\">\n          <div className=\"payment__title\">\n            Payment method\n          </div>\n          <div className=\"payment__card\">\n            <form onSubmit={handleSubmit}>\n              <CardElement onChange={handleChange}/>\n              <div className=\"payment__priceContainer\">\n                <CurrencyFormat \n                  value={getBasketTotal(basket)}\n                  renderText={(value) => (\n                      <h3>Order Total: {value}</h3>\n                  )}\n                  decimalScale={2}\n                  displayType={\"text\"}\n                  thousandSeperator={true}\n                  prefix={\"$\"}\n                />\n                <button className=\"payment__processing\" disabled={processing || disabled || succeeded}>\n                  { processing ? 'Processing' : 'Buy Now'}\n                </button>\n              </div>\n            </form>\n            \n                  { error && <div>{error}</div> }\n          </div>\n        </div> \n      </div>\n    </div>\n  )\n}\n\nexport default Payment\n","/Users/mvk/Documents/meha_workspace/amazon-clone/src/axios.js",[],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/orders/Orders.js",["88"],"/Users/mvk/Documents/meha_workspace/amazon-clone/src/components/order/Order.js",["89"],{"ruleId":"90","severity":1,"message":"91","line":16,"column":10,"nodeType":"92","messageId":"93","endLine":16,"endColumn":15},{"ruleId":"94","severity":1,"message":"95","line":27,"column":6,"nodeType":"96","endLine":27,"endColumn":8,"suggestions":"97"},{"ruleId":"90","severity":1,"message":"98","line":11,"column":28,"nodeType":"92","messageId":"93","endLine":11,"endColumn":36},{"ruleId":"99","severity":1,"message":"100","line":20,"column":9,"nodeType":"101","endLine":23,"endColumn":11},{"ruleId":"102","replacedBy":"103"},{"ruleId":"104","replacedBy":"105"},{"ruleId":"90","severity":1,"message":"91","line":10,"column":10,"nodeType":"92","messageId":"93","endLine":10,"endColumn":15},{"ruleId":"90","severity":1,"message":"106","line":3,"column":10,"nodeType":"92","messageId":"93","endLine":3,"endColumn":14},{"ruleId":"90","severity":1,"message":"107","line":9,"column":20,"nodeType":"92","messageId":"93","endLine":9,"endColumn":24},{"ruleId":"90","severity":1,"message":"98","line":9,"column":28,"nodeType":"92","messageId":"93","endLine":9,"endColumn":36},{"ruleId":"90","severity":1,"message":"98","line":9,"column":22,"nodeType":"92","messageId":"93","endLine":9,"endColumn":30},{"ruleId":"90","severity":1,"message":"91","line":9,"column":10,"nodeType":"92","messageId":"93","endLine":9,"endColumn":15},{"ruleId":"90","severity":1,"message":"108","line":1,"column":10,"nodeType":"92","messageId":"93","endLine":1,"endColumn":22},{"ruleId":"90","severity":1,"message":"109","line":45,"column":11,"nodeType":"92","messageId":"93","endLine":45,"endColumn":18},{"ruleId":"90","severity":1,"message":"98","line":9,"column":20,"nodeType":"92","messageId":"93","endLine":9,"endColumn":28},{"ruleId":"90","severity":1,"message":"110","line":6,"column":10,"nodeType":"92","messageId":"93","endLine":6,"endColumn":24},"no-unused-vars","'state' is assigned a value but never used.","Identifier","unusedVar","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["111"],"'dispatch' is assigned a value but never used.","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","JSXOpeningElement","no-native-reassign",["112"],"no-negated-in-lhs",["113"],"'Link' is defined but never used.","'user' is assigned a value but never used.","'PanToolSharp' is defined but never used.","'payload' is assigned a value but never used.","'getBasketTotal' is defined but never used.",{"desc":"114","fix":"115"},"no-global-assign","no-unsafe-negation","Update the dependencies array to be: [dispatch]",{"range":"116","text":"117"},[982,984],"[dispatch]"]